<!-- 1987f868-204e-432b-92b1-8cfd082cddca 9d16167d-7621-4f81-9105-e55cfbc2166b -->
# Implement AI Shelf Popup Above InputBar

## Scope

- Replace `AIFeatureMenu` modal with a small shelf popover anchored above the AI button in `InputBar`.
- Shelf contains two items: "Chat Summary" and "AI Response Suggestions".
- Keep existing `AISummarySheet` flow; add a simple suggestions sheet to insert a reply into the input.

## Key Changes

- Update `components/chat/InputBar.tsx`
- Add internal `showAIShelf` state; toggle when AI icon is pressed.
- Measure AI button position via `onLayout` and position an absolutely positioned small card above it.
- Render a simple shelf (rounded white/blur card with shadow) with two touch targets:
  - Chat Summary → call `onOpenAISummary()` then close shelf
  - AI Response Suggestions → call `onOpenAISuggestions()` then close shelf
- Add new props: `onOpenAISummary`, `onOpenAISuggestions`.

- Update `app/chat/[id].tsx`
- Remove `<AIFeatureMenu/>` usage and imports.
- Pass `onOpenAISummary`: open existing `AISummarySheet` (refresh if empty).
- Pass `onOpenAISuggestions`: open a new `AISuggestionsSheet`.

- New `components/AISuggestionsSheet.tsx`
- Bottom sheet or modal listing 3–5 suggestions.
- Fetch suggestions for the current conversation (function in `services/aiService.ts`, e.g., `getResponseSuggestions(conversationId, { lastMessagesN: 10 })`).
- Tapping a suggestion inserts it into the input (call back to Chat via prop).

- Update `services/aiService.ts` (if missing API)
- Add `getResponseSuggestions(conversationId: string, opts?)` returning an array of short strings.

## Visual/UX Details

- Shelf popover: width ~220, padding 8–10, rounded 12, subtle shadow, white/blurred background, small caret triangle pointing to the AI icon.
- Dismiss shelf on outside tap or after selecting an item.
- Maintain current white icon color for AI/camera.

## Files Touched

- `components/chat/InputBar.tsx`
- `app/chat/[id].tsx`
- `components/AISuggestionsSheet.tsx` (new)
- `services/aiService.ts` (extend if needed)

## Notes

- If `aiService` lacks suggestions, implement a simple placeholder generator first and wire real API later.
- Keep changes isolated; no navigation changes required.

### To-dos

- [ ] Add summary/suggestions callbacks to InputBar
- [ ] Implement anchored shelf popover above AI button
- [ ] Wire callbacks in chat screen and remove AIFeatureMenu
- [ ] Create AISuggestionsSheet to list and insert replies
- [ ] Add getResponseSuggestions to aiService if missing